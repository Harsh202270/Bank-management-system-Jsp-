<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Bank Account</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/2d3d5e4b8b.js" crossorigin="anonymous"></script>
<style>
    * { box-sizing: border-box; }
    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(135deg, #1f4037, #99f2c8);
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }
    nav {
        width: 100%;
        background: rgba(0,0,0,0.7);
        padding: 10px 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    nav a {
        color: white;
        text-decoration: none;
        font-weight: bold;
        padding: 8px 12px;
        transition: 0.3s;
        border-radius: 5px;
        font-size: 14px;
    }
    nav a:hover {
        background: white;
        color: #1f4037;
    }
    .form-wrapper {
        background: rgba(255,255,255,0.1);
        backdrop-filter: blur(12px);
        margin: 20px;
        padding: 20px;
        width: 100%;
        max-width: 500px;
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        color: white;
        animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    h2 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.5rem;
    }
    .input-group {
        margin-bottom: 15px;
        position: relative;
    }
    .input-group label {
        display: block;
        margin-bottom: 5px;
        font-size: 14px;
    }
    .input-group input {
        width: 100%;
        padding: 12px 40px 12px 12px;
        border-radius: 8px;
        border: none;
        background: rgba(255,255,255,0.8);
        font-size: 14px;
    }
    .input-group i {
        position: absolute;
        right: 12px;
        top: 38px;
        color: #1f4037;
        cursor: pointer;
    }
    button {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        background: linear-gradient(45deg, #00c6ff, #0072ff);
        color: white;
        cursor: pointer;
        transition: 0.3s;
    }
    button:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    .strength {
        font-size: 12px;
        margin-top: 3px;
    }
    .profile-preview {
        display: flex;
        justify-content: center;
        margin-bottom: 15px;
    }
    .profile-preview img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid white;
        box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }
    .error {
        font-size: 12px;
        color: #ff4d4d;
        display: none;
    }

    /* Responsive Fix */
    @media (max-width: 480px) {
        h2 { font-size: 1.3rem; }
        nav a { font-size: 12px; padding: 6px 10px; }
        .input-group input { padding: 10px 35px 10px 10px; font-size: 13px; }
        button { font-size: 14px; padding: 10px; }
        .profile-preview img { width: 80px; height: 80px; }
    }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
    <a href="home.html">Home</a>
    <a href="login.html">Login</a>
    <a href="create_account.html" style="background:white; color:#1f4037;">Create Account</a>
    <a href="login.html">Deposit/Withdraw</a>

</nav>

<!-- Create Account Form -->
<div class="form-wrapper">
    <h2>Open Your Bank Account</h2>
    <form name="f" method="post" action="createaccount.jsp" onsubmit="return validateForm()">
    <!-- Profile Picture Upload -->
    <div class="profile-preview">
        <img id="profileImage" src="https://via.placeholder.com/100" alt="Profile">
    </div>
    <input type="file" accept="image/*"  onchange="previewImage(event)" style="margin-bottom:15px; width:100%;">
    	<input type="hidden" id="accountId" name="t1">
		
    
        <div class="input-group">
            <label>Full Name</label>
            <input type="text" id="fullName" placeholder="Enter full name" name="t2" required>
            <i class="fas fa-user"></i>
        </div>
        <div class="input-group">
            <label>Email</label>
            <input type="email" id="email" placeholder="Enter email" oninput="validateEmail()" name="t3" required>
            <i class="fas fa-envelope"></i>
            <div class="error" id="emailError">Invalid email format</div>
        </div>
        <div class="input-group">
            <label>Phone</label>
            <input type="tel" id="phone" placeholder="Enter phone number" oninput="validatePhone()" name="t4" required>
            <i class="fas fa-phone"></i>
            <div class="error" id="phoneError">Invalid phone number</div>
        </div>
        <div class="input-group">
            <label>Initial Deposit</label>
            <input type="number" id="deposit" placeholder="Enter amount (min â‚¹500)" name="t5" required min="1" max="10000">
            <i class="fas fa-rupee-sign"></i>
        </div>
        <div class="input-group">
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter password" oninput="checkStrength()" name="t6" required>
            <i class="fas fa-eye" onclick="togglePassword('password')"></i>
            <div class="strength" id="strengthMessage"></div>
        </div>
        <div class="input-group">
            <label>Confirm Password</label>
            <input type="password" id="confirmPassword" placeholder="Confirm password" required>
            <i class="fas fa-eye" onclick="togglePassword('confirmPassword')"></i>
        </div>
        <button type="submit" value="create" name="b1">Create Account</button>
        <div id="accountModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center;">
    
</div>
    </form>
</div>

<script>
function previewImage(event) {
    const reader = new FileReader();
    reader.onload = function(){
        document.getElementById('profileImage').src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
}
function togglePassword(id) {
    const field = document.getElementById(id);
    field.type = field.type === "password" ? "text" : "password";
}
function checkStrength() {
    const pass = document.getElementById("password").value;
    const msg = document.getElementById("strengthMessage");
    let strength = "Weak";
    let color = "red";
    if (pass.length > 5 && /[0-9]/.test(pass)) { strength = "Medium"; color = "orange"; }
    if (pass.length > 8 && /[0-9]/.test(pass) && /[A-Z]/.test(pass) && /[@$!%*?&]/.test(pass)) { strength = "Strong"; color = "green"; }
    msg.textContent = "Password Strength: " + strength;
    msg.style.color = color;
}
function validateEmail() {
    const email = document.getElementById("email").value;
    const error = document.getElementById("emailError");
    error.style.display = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email) ? "none" : "block";
}
function validatePhone() {
    const phone = document.getElementById("phone").value;
    const error = document.getElementById("phoneError");
    error.style.display = /^[0-9]{10}$/.test(phone) ? "none" : "block";
}
function validateForm() {
    const deposit = document.getElementById("deposit").value;
    const password = document.getElementById("password").value;
    const confirm = document.getElementById("confirmPassword").value;

    if (deposit < 500) {
        alert("Minimum deposit â‚¹500 required");
        return false;
    }

    if (password !== confirm) {
        alert("Passwords do not match");
        return false;
    }

    // Generate a random 10-digit account ID
    const accountId = Math.floor(1000000000 + Math.random() * 9000000000);
    document.getElementById("accountId").value = accountId;

    alert("ðŸŽ‰ Account created!\nYour Account ID: " + accountId);

    if (!confirm("Did you note your account ID? Click OK if you have.")) {
        alert("âš  Please note your account ID before submitting.");
        return false;
    }

    return true;
}
</script>

</body>
</html>
